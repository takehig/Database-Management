# Database Management System v1.2.0

## æ¦‚è¦
WealthAI Enterprise Systemsç”¨çµ±åˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½
- **è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¯¾å¿œ**: CRMãƒ»ProductMasterãƒ»AIChatåˆ‡ã‚Šæ›¿ãˆ
- **ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§è¡¨ç¤º**: è‡ªå‹•å–å¾—ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- **ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹**: ãƒ†ãƒ¼ãƒ–ãƒ«åã‚¯ãƒªãƒƒã‚¯ã§SQLè‡ªå‹•ç”Ÿæˆ
- **SQLå®Ÿè¡Œãƒ»çµæœè¡¨ç¤º**: æ‰‹å‹•å…¥åŠ›ãƒ»è‡ªå‹•ç”Ÿæˆä¸¡å¯¾å¿œ

## ğŸ—ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **Backend**: FastAPI + Jinja2Templates
- **Frontend**: HTML5 + Bootstrap 5 + JavaScript ES6+
- **Database**: PostgreSQL (è¤‡æ•°DBå¯¾å¿œ)
- **Port**: 8006

## ğŸ“Š å¯¾å¿œãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

### CRM Database (crm)
- **æ¥ç¶š**: crm_user/crm123
- **ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«**: customers, sales_notes, holdings, cash_inflows
- **ç”¨é€”**: é¡§å®¢ç®¡ç†ãƒ»å–¶æ¥­ãƒ¡ãƒ¢ãƒ»ä¿æœ‰è³‡ç”£ç®¡ç†

### ProductMaster Database (productmaster)
- **æ¥ç¶š**: productmaster_user/productmaster123
- **ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«**: products, product_categories
- **ç”¨é€”**: å•†å“æƒ…å ±ç®¡ç†ãƒ»å•†å“ãƒã‚¹ã‚¿ãƒ¼

### AIChat Database (aichat)
- **æ¥ç¶š**: aichat_user/aichat123
- **ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«**: system_prompts
- **ç”¨é€”**: SystemPrompt Managementãƒ»AIè¨­å®šç®¡ç†

## ğŸ¨ UIæ§‹æˆ

### 2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SQLå®Ÿè¡Œã‚¨ãƒªã‚¢ (8åˆ—)      â”‚ ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§(4åˆ—) â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é¸æŠ     â”‚ â”‚ â”‚ system_promptsâ”‚ â”‚
â”‚ â”‚ [CRM Database â–¼]   â”‚ â”‚ â”‚ customers    â”‚ â”‚
â”‚ â”‚                    â”‚ â”‚ â”‚ sales_notes  â”‚ â”‚
â”‚ â”‚ SQLã‚¯ã‚¨ãƒªå…¥åŠ›       â”‚ â”‚ â”‚ holdings     â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ ...         â”‚ â”‚
â”‚ â”‚ â”‚SELECT * FROM... â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚                 â”‚
â”‚ â”‚ [å®Ÿè¡Œ] [ã‚¯ãƒªã‚¢]     â”‚ â”‚                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚              å®Ÿè¡Œçµæœè¡¨ç¤ºã‚¨ãƒªã‚¢              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ APIä»•æ§˜

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
```
GET  /                      # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
GET  /api/tables/{db_name}  # ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§å–å¾—
POST /api/execute-sql       # SQLå®Ÿè¡Œ
```

### APIè©³ç´°

#### ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§å–å¾—
```http
GET /api/tables/crm
```
```json
{
  "status": "success",
  "tables": ["customers", "sales_notes", "holdings"]
}
```

#### SQLå®Ÿè¡Œ
```http
POST /api/execute-sql
Content-Type: application/json

{
  "sql": "SELECT * FROM customers LIMIT 10;",
  "database": "crm"
}
```
```json
{
  "status": "success",
  "results": [...],
  "count": 10
}
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬æ“ä½œ
1. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é¸æŠ**: ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã§CRM/ProductMaster/AIChaté¸æŠ
2. **ãƒ†ãƒ¼ãƒ–ãƒ«ç¢ºèª**: å³å´ã«è‡ªå‹•è¡¨ç¤ºã•ã‚Œã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ã‚’ç¢ºèª
3. **ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹**: ãƒ†ãƒ¼ãƒ–ãƒ«åã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ `SELECT * FROM table LIMIT 10;` è‡ªå‹•å…¥åŠ›
4. **SQLå®Ÿè¡Œ**: ã€Œå®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã§çµæœè¡¨ç¤º

### é«˜åº¦ãªä½¿ç”¨ä¾‹
```sql
-- CRM: å–¶æ¥­ãƒ¡ãƒ¢æ¤œç´¢
SELECT customer_id, content FROM sales_notes 
WHERE content LIKE '%æŠ•è³‡%' LIMIT 5;

-- ProductMaster: å•†å“æ¤œç´¢
SELECT product_code, product_name FROM products 
WHERE product_type = 'å‚µåˆ¸' LIMIT 10;

-- AIChat: ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç¢ºèª
SELECT prompt_key, LEFT(prompt_text, 100) as preview 
FROM system_prompts ORDER BY updated_at DESC;
```

## ğŸ›ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ
```
Database Management (Port 8006)
â”œâ”€â”€ FastAPI Application
â”‚   â”œâ”€â”€ Multiple DB Connection Pool
â”‚   â”‚   â”œâ”€â”€ CRM (crm_user/crm123)
â”‚   â”‚   â”œâ”€â”€ ProductMaster (productmaster_user/productmaster123)
â”‚   â”‚   â””â”€â”€ AIChat (aichat_user/aichat123)
â”‚   â”œâ”€â”€ REST API Endpoints
â”‚   â””â”€â”€ Jinja2 Template Engine
â””â”€â”€ Frontend (Bootstrap 5 + JavaScript)
    â”œâ”€â”€ Database Selector
    â”œâ”€â”€ Table List (Auto-refresh)
    â”œâ”€â”€ SQL Editor
    â””â”€â”€ Result Display
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
```
User Action â†’ Frontend JS â†’ FastAPI â†’ PostgreSQL â†’ Response â†’ UI Update
     â†“              â†“           â†“          â†“          â†“         â†“
DBé¸æŠ â†’ onchange â†’ /api/tables â†’ SELECT â†’ JSON â†’ ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§æ›´æ–°
ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ â†’ onclick â†’ SQLè‡ªå‹•ç”Ÿæˆ â†’ å…¥åŠ›æ¬„æ›´æ–°
SQLå®Ÿè¡Œ â†’ fetch â†’ /api/execute-sql â†’ ã‚¯ã‚¨ãƒªå®Ÿè¡Œ â†’ çµæœè¡¨ç¤º
```

## ğŸ”— ã‚¢ã‚¯ã‚»ã‚¹æƒ…å ±
- **ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹**: http://44.217.45.24:8006/
- **ãƒ—ãƒ­ã‚­ã‚·ã‚¢ã‚¯ã‚»ã‚¹**: http://44.217.45.24/database/
- **GitHub**: https://github.com/takehig/Database-Management

## ğŸ› ï¸ é–‹ç™ºãƒ»é‹ç”¨

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º
```bash
# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
python main.py
```

### ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †
```bash
# 1. ãƒ­ãƒ¼ã‚«ãƒ«ä¿®æ­£
git add . && git commit -m "[UPDATE] æ©Ÿèƒ½è¿½åŠ "

# 2. GitHubåæ˜ 
git push origin main

# 3. EC2åæ˜ 
# SSMçµŒç”±ã§git pull â†’ ãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼ â†’ ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹•
```

### systemdç®¡ç†
```bash
# ã‚µãƒ¼ãƒ“ã‚¹ç®¡ç†
sudo systemctl start|stop|restart database-mgmt
sudo systemctl status database-mgmt

# ãƒ­ã‚°ç¢ºèª
sudo journalctl -u database-mgmt -f
```

## ğŸ“ˆ ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´

### v1.2.0 (2025-09-19)
- âœ… ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§è¡¨ç¤ºæ©Ÿèƒ½è¿½åŠ 
- âœ… AIChat ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šè¨­å®šä¿®æ­£
- âœ… ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹æ©Ÿèƒ½å®Ÿè£…
- âœ… 2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ¡ç”¨

### v1.1.0 (2025-09-19)
- âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é¸æŠæ©Ÿèƒ½è¿½åŠ 
- âœ… è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¯¾å¿œå®Ÿè£…
- âœ… å‹•çš„æ¥ç¶šåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½

### v1.0.0 (2025-09-19)
- âœ… FastAPI + Jinja2çµ±ä¸€æ§‹é€ å®Ÿè£…
- âœ… HTMLãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰å‰Šé™¤ãƒ»MVCåˆ†é›¢
- âœ… åŸºæœ¬SQLå®Ÿè¡Œæ©Ÿèƒ½å®Ÿè£…

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èªè¨¼æƒ…å ±ã¯ç’°å¢ƒå¤‰æ•°ãƒ»è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†
- SQLå®Ÿè¡Œã¯æ¥ç¶šãƒ—ãƒ¼ãƒ«çµŒç”±ã§å®‰å…¨ã«å‡¦ç†
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½å®Œå‚™

## ğŸ¯ ä»Šå¾Œã®æ‹¡å¼µäºˆå®š
- [ ] SQLã‚¯ã‚¨ãƒªå±¥æ­´æ©Ÿèƒ½
- [ ] ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆCSV/Excelï¼‰
- [ ] ã‚¯ã‚¨ãƒªä¿å­˜ãƒ»å…±æœ‰æ©Ÿèƒ½
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¡¨ç¤ºæ©Ÿèƒ½
